{% extends 'layouts/base.html' %}
{% load static i18n %}
{% block otherstyles %}
    <link rel="stylesheet" href="{% static 'stylesheets/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'javascripts/fullcalendar/lib/main.css' %}">
    <link rel="stylesheet" href="{% static 'stylesheets/carousel.eventos.min.css' %}">
    <style>
        .fc td, .fc th {
            border-style: none !important;
        }

        .fc-theme-standard .fc-scrollgrid {
            border: none;
        }

        .repo-left {
            background-color: #f2f2f2;
            padding: 100px;
            border-top: 4px solid #dc291e;
            height: 350px;
        }

        .calendar-right {
            background-color: #f2f2f2;
            border-top: 4px solid #939598;
            border-left: 2px solid #fff;
            height: 350px;
        }

        table {
            margin-bottom: unset;
            overflow: hidden !important;
        }

        .fc-daygrid-day-events {
            min-height: initial !important;
        }

        #calendar > .fc-header-toolbar {
            margin-bottom: 0.5em;
        }

        #calendar {
            width: 70%;
            margin: 0 auto;
            font-size: 10px;
        }

        .fc-daygrid-day-top {
            justify-content: center;
        }

        #calendar .fc-scroller.fc-scroller-liquid-absolute {
            overflow: hidden !important;
        }

        #calendar a.fc-daygrid-day-number {
            z-index: 0 !important;
        }

        @media (min-width: 320px) and (max-width: 480px) {
            #calendar {
                width: 100%;
            }

            #calendar .fc-col-header {
                width: 100% !important;
            }

            .calendar-right {
                margin-top: 15px;
            }
        }
    </style>
{% endblock %}

{% block wrapper %}
    {% include 'partials/slider_index.html' %}

    <div class="content-wrap">
        <section id="intro">
            <div class="container">
                <div class="row my-5 mx-4">
                    <div class="col-md-1"></div>
                    <div class="col-md-5"><br>
                        <h2>
                            ¿Qué estamos haciendo?
                        </h2>
                        <p class="text-justify">
                            En Planigrupo somos conscientes de los impactos que tenemos en el medio ambiente y la
                            sociedad, así como el impacto que provocamos con todos nuestros grupos de interés. Por ello,
                            durante 2021 decidimos reforzar nuestra estrategia de sostenibilidad haciendo nuestro primer
                            análisis de materialidad para guiar nuevas iniciativas y fortalecer las existentes.
                        </p>
                    </div>
                    <div class="col-md-5">
                        <img src="{% static 'images/corazones_rosas.jpg' %}" class="img-fluid">
                    </div>
                </div>
                <div class="row my-5 mx-4">
                    <div class="col-md-1"></div>
                    <div class="col-md-5">
                        <img src="{% static 'images/index/junta.jpg' %}" class="img-fluid">
                    </div>
                    <div class="col-md-5">
                        <h2>
                            ¿Para qué?
                        </h2>
                        <p class="text-justify">
                            El objetivo de este ejercicio fue definir cuáles eran los temas materiales para la
                            organización y sus grupos de interés. Con ello, esperamos poder optimizar los recursos en
                            estrategias que generen el mayor beneficio para todos así como reconocer riesgos potenciales
                            en la operación. </p>
                    </div>
                    
                   
                </div>
                <div class="row my-5 mx-4">
                    <div class="col-md-1"></div>
                    <div class="col-md-5">

                        <h2>
                            ¿Quiénes participaron?
                        </h2>
                        <p class="text-justify">
                            La base para identificar y seleccionar a los grupos de interés participantes fue todo aquel
                            grupo que esté directamente involucrado en procesos operativos tradicionales del negocio de
                            acuerdo con nuestro objeto social.
                        </p>
                        <a class="btn bg-danger text-white" href="{% url 'materialidad' %}#grupos">Conoce nuestros grupos de interés</a>
                    </div>
                    <div class="col-md-5">
                        <img src="{% static 'images/index/manos.jpg' %}" class="img-fluid">
                    </div>
                </div> 
                <div class="row my-5 mx-4">
                    <div class="col-md-1"></div>
                    <div class="col-md-5">
                        <img src="{% static 'images/index/materialidadl.jpeg' %}" class="img-fluid">
                    </div>
                    <div class="col-md-5">
                        
                            <h2>
                                Materialidad y estrategia ASG
                            </h2>
                            <p class="text-justify">
                                Durante el 2021 llevamos a cabo nuestro primer análisis de materialidad para formular una
                                estrategia ASG (Ambiental, Social y Gobierno Corporativo).
                            </p>
                            <a class="btn bg-danger text-white" href="{% url 'materialidad' %}">Ver Más</a>
                        
                    </div>
                </div>
            </div>
        </section>
        <section id="materialidad">
            <div class="container">
                <div class="row my-5 mx-4">
                    
                   
                </div>
            </div>
        </section>

        


    


    <div class="py-2">
        <div class="container">
            <div class="section-title mb-3 text-center">
                <h1 class="title-effect tc-blue"></h1>
            </div>
            <div class="row justify-content-center align-items-center row-eq-height">
                <div class=" col-md-6 repo-left">
                    <h3 class="text-center text-dark mb-2 text-uppercase font-weight-bold">Descargar reporte
                        anual</h3>
                    <div class="d-flex flex-column pt-1">
                        <a target="_blank"
                           href="http://cdn.investorcloud.net/plani/InformacionFinanciera/InformesAnuales/2021-Anual.pdf"
                           class="text-center">
                            <i class="fa fa-file-text fa-3x mb-3"></i>
                            <p class="mb-0">Informe ASG 2021</p>
                        </a>
                    </div>
                </div>
                <div class=" col-md-6 calendar-right">
                    <h3 class="text-center mb-3 text-dark text-uppercase font-weight-bold">Calendario</h3>
                    <div id='calendar'></div>
                </div>
            </div>
        </div>
    </div>
    {#    {% include 'partials/carousel_eventos_amb.html' %}#}
    {% include 'partials/carousel_eventos_soc.html' %}

{% endblock %}
{% block otherscripts %}
    <script src="{% static 'javascripts/wow.min.js' %}"></script>
    <script src="{% static 'javascripts/js/jquery.twbsPagination.min.js' %}"></script>
    <script src="{% static 'javascripts/carousel.eventos.js' %}"></script>
    <script>
        new WOW().init();
    </script>
    <link rel="stylesheet" type="text/css" href="{% static 'stylesheets/css/index_comp.min.css' %}?v=1.0.1"/>


    <script src="{% static 'javascripts/amcharts/animate.js' %}"></script>

    <script>
        $('.owl-carousel').owlCarousel({
            loop: true,
            margin: 30,
            nav: true,
            autoplay: true,
            autoplayTimeout: 5000,
            autoplayHoverPause: true,
            items: 1,
        });


    </script>

    <script src="{% static 'javascripts/js/rs-plugin/jquery.themepunch.tools.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/jquery.themepunch.tools.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/jquery.themepunch.revolution.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.video.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.slideanims.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.actions.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.layeranimation.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.kenburn.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.navigation.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.migration.min.js' %}"></script>
    <script src="{% static 'javascripts/js/rs-plugin/extensions/revolution.extension.parallax.min.js' %}"></script>

    <script src='{% static 'javascripts/fullcalendar/lib/main.js' %}'></script>
    <script src='{% static 'javascripts/fullcalendar/lib/locales-all.js' %}'></script>

    <script src="{% static 'javascripts/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'javascripts/countTo.js' %}"></script>
    <script>
        $(window).on('load', function () {
            $('.finn-counto').each(function () {
                finn_waypoint('#' + $(this).attr('id'));
                finn_counto('#' + $(this).attr('id'));
            });
        });

        function finn_waypoint(elemento) {
            var waypoint = new Waypoint({
                element: $(elemento),
                handler: function (direction) {
                    $(elemento + ' .count').trigger('on-appear');
                },
                offset: '75%',
                triggerOnce: true
            })
        }

        function finn_counto(elemento) {
            if ($().countTo) {
                $(elemento + ' .count').on('on-appear', function () {
                    $(elemento + ' .honeycomb-path.honeycomb-1').addClass('honeycomb-animated');

                    $(this).each(function () {
                        var to = parseFloat($(this).data('to')),
                            speed = parseInt($(this).data('speed')),
                            decimals = parseInt($(this).data('decimals'));

                        $(this).countTo({
                            to: to,
                            speen: speed,
                            decimals: decimals,
                            formatter: function (value, options) {
                                return value.toFixed(options.decimals).replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
                            },
                            onComplete: function (value) {
                                if (value === 1.9)
                                    return this.innerHTML += '%';
                            }

                        });
                    });
                }); //counter
            }
        }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            if (calendarEl != null) {
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    eventDidMount: function (info) {
                        info.el.setAttribute("data-toggle", 'tooltip');
                        info.el.setAttribute("data-placement", 'top');
                        info.el.setAttribute("data-title", info.event.extendedProps.description);
                    },
                    locale: 'es',
                    height: 270,
                    eventMouseEnter: function (mouseEnterInfo) {
                        $(mouseEnterInfo.el).tooltip('show')
                    }, eventMouseLeave: function (mouseEnterInfo) {
                        $(mouseEnterInfo.el).tooltip('hide')
                    },

                    handleWindowResize: true,
                    events: [
                        {
                            {#title: 'Reporte 3T21',#}
                            description: 'Reporte 3T21',
                            start: '2021-10-28',
                            display: 'background',
                            backgroundColor: '#EB8705'
                        }, {
                            {#title: 'Conferencia Telefónica 3T21 ',#}
                            description: 'Conferencia Telefónica 3T21 ',
                            start: '2021-10-29',
                            display: 'background',
                            backgroundColor: '#3DAE2B'
                        }

                    ]
                });
                calendar.render();
            }
        });
    </script>

    <script>
        var tpj = jQuery;

        var revapi202;
        tpj(document).ready(function () {

            $(".ot-testimonial-s2").owlCarousel({
                autoplay: true,
                autoplayTimeout: 5000,
                autoplayHoverPause: true,
                loop: true,
                responsiveClass: true,
                dotsClass: 'owl-dots ot-custom-dots',
                dots: false,
                nav: true,
                navText: ['<i role="presentation" class="icon-angle-left"></i>', '<i role="presentation" class="icon-angle-right"></i>'],
                responsive: {
                    0: {
                        items: 1,
                        margin: 30,
                        autoplay: true,
                    },
                    768: {
                        items: 1,
                        margin: 30,
                    },
                    1024: {
                        items: 1,
                        margin: 30,
                    }
                }
            });


            if (tpj("#rev_slider_579_1").revolution == undefined) {
                revslider_showDoubleJqueryError("#rev_slider_579_1");
            } else {
                revapi202 = tpj("#rev_slider_579_1").show().revolution({
                    sliderType: "standard",
                    jsFileLocation: "/static/javscripts/js/rs-plugin/js/",
                    {#sliderLayout: "fullscreen",#}
                    dottedOverlay: "none",
                    delay: 16000,
                    responsiveLevels: [4096, 1200, 992, 500],
                    visibilityLevels: [1140, 992, 768, 480],
                    gridwidth: [1140, 900, 760, 500],
                    gridheight: [500, 500, 500, 650],
                    hideThumbs: 200,

                    thumbWidth: 100,
                    thumbHeight: 50,
                    thumbAmount: 5,
                    fallbacks: {
                        simplifyAll: "off",
                        disableFocusListener: false,
                    },
                    {#parallax: {#}
                    {#    type: "mouse",#}
                    {#    origo: "slidercenter",#}
                    {#    speed: 300,#}
                    {#    levels: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 49, 50, 51, 55],#}
                    {# },#}
                    navigation: {
                        keyboardNavigation: "off",
                        keyboard_direction: "horizontal",
                        mouseScrollNavigation: "off",
                        onHoverStop: "off",
                        touch: {
                            touchenabled: "on",
                            swipe_threshold: 75,
                            swipe_min_touches: 1,
                            swipe_direction: "horizontal",
                            drag_block_vertical: false
                        },
                        arrows: {
                            style: "persephone",//HEPHAISTOS,HERMES,HESPERIDEN,METIS,PERSEPHONE
                            enable: true,
                            {#    hide_onmobile: false,#}
                            {#    hide_onleave: false,#}
                            {#    tmp: '<div class="tp-arr-allwrapper">	<div class="tp-arr-imgholder"></div>	<div class="tp-arr-titleholder">{{title}}</div>	</div>',#}
                            {#    left: {#}
                            {#        h_align: "left",#}
                            {#        v_align: "center",#}
                            {#        h_offset: 10,#}
                            {#        v_offset: 0#}
                            {#    },#}
                            {#    right: {#}
                            {#        h_align: "right",#}
                            {#        v_align: "center",#}
                            {#        h_offset: 10,#}
                            {#        v_offset: 0#}
                            {#    }#}
                        }
                    },
                    touchenabled: "on",
                    onHoverStop: "on",

                    swipe_velocity: 0.7,
                    swipe_min_touches: 1,
                    swipe_max_touches: 1,
                    drag_block_vertical: false,

                    keyboardNavigation: "off",

                    shadow: 0,
                    fullWidth: "off",
                    fullScreen: "on",

                    spinner: "spinner4",

                    stopLoop: "off",
                    stopAfterLoops: -1,
                    stopAtSlide: -1,

                    shuffle: "off",

                    autoHeight: "off",
                    forceFullWidth: "off",

                    hideThumbsOnMobile: "off",
                    hideNavDelayOnMobile: 1500,
                    hideBulletsOnMobile: "off",
                    hideArrowsOnMobile: "off",
                    hideThumbsUnderResolution: 0,

                    hideSliderAtLimit: 0,
                    hideCaptionAtLimit: 0,
                    hideAllCaptionAtLilmit: 0,
                    startWithSlide: 0,
                });
                revapi202.bind("revolution.slide.onloaded", function (e) {
                    setTimeout(function () {
                        SEMICOLON.slider.sliderParallaxDimensions();
                    }, 200);
                });

                revapi202.bind("revolution.slide.onchange", function (e, data) {
                    SEMICOLON.slider.revolutionSliderMenu();
                });
            }

            $(".g_btnRight").click(function () {
                if ($("#vertuo").hasClass("extended")) {
                    $("#original").animate({
                        width: '50%'
                    }, "slow");
                    $("#vertuo").animate({
                        width: "50%"
                    }, "slow");
                    $("#vertuo").removeClass("extended");
                } else {
                    $("#original").animate({
                        width: '95%'
                    }, "slow");
                    $("#vertuo").animate({
                        width: "5%"
                    }, "slow");
                    $("#original").addClass("extended");
                    $("#vertuo").removeClass("extended");
                }
            });
            $(".g_btnLeft").click(function () {
                if ($("#original").hasClass("extended")) {
                    $("#original").animate({
                        width: '50%'
                    }, "slow");
                    $("#vertuo").animate({
                        width: "50%"
                    }, "slow");
                    $("#original").removeClass("extended");
                } else {
                    $("#vertuo").animate({
                        width: '95%'
                    }, "slow");
                    $("#original").animate({
                        width: "5%"
                    }, "slow");
                    $("#original").removeClass("extended");
                    $("#vertuo").addClass("extended");
                }
            });


        });
        {#setTimeout(function () {#}
        {#    SEMICOLON.carouselContainer["oc-clients"].trigger('refresh.owl.carousel')#}
        {# }, 200, {});#}

        /*ready*/
    </script>


    <script>
        function isScrolledIntoView(el) {
            if (el != null) {
                var elemTop = el.getBoundingClientRect().top;
                var elemBottom = el.getBoundingClientRect().bottom;

                var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);
                return isVisible;
            }
        }

        $(window).scroll(function () {
            if (isScrolledIntoView(document.getElementById('wprt-counter-index'))) {
                $('#wprt-counter-index').find('.number').each(function () {
                    var to = parseFloat($(this).data('to')),
                        speed = parseInt($(this).data('speed')),
                        decimals = parseInt($(this).data('decimals'));

                    $(this).countTo({
                        to: to,
                        speen: speed,
                        decimals: decimals,
                        formatter: function (value, options) {
                            return value.toFixed(options.decimals).replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
                            ;
                        },
                        onComplete: function (value) {
                            if (value === 1.9)
                                return this.innerHTML += '%';
                        }

                    });
                });

                // Unbind scroll event
                $(window).off('scroll');
            }
        });
    </script>
{% endblock %}